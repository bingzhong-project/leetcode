# Beautiful Arrangement

[问题描述](https://leetcode.com/problems/beautiful-arrangement/)

## 知识点

回溯，动态规划

## 解题思路

一种简单的解决思路是直接利用回溯法，利用题目给出的要求作为回溯条件，然后记录统计数量即可。  
但是直接利用回溯法的话，会遍历访问许多分支，进行了多次重复计算，从而降低了整体的速度。  
为了解决这个问题，可以在回溯的基础上加上动态规划的思路。这里利用自顶向下的解题思路，同时记录下已经计算出的结果，从而避免重复计算。  
可以将问题描述成这样，对于给定数字 N 来说，当有 i = N 个位置待排，而待构造的数组为 numbers 时，可以构造的优雅排列的数量是多少。  
声明一个字典 dp ，而元组 (i, numbers) 作为 key ，记录当有 i 个位置待排，且待构造的数组为 numbers 可以构造出多少个优雅排列。  
对于每个 dp[(i, numbers)] ，都是由 i - 1 和 numbers 的少一个元素的子集和求出的优雅排列的数量和。  
在遍历树的时候，可以通过判断 dp 中是否记录了已经计算了的结果，从而避免重复计算，提高计算的效率。
